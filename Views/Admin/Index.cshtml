@using Microsoft.AspNetCore.Identity
@using Product_Management.Models.DomainModels
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Dashboard";
}
@inject SignInManager<UserModel> signInManager;

<style>

    .container {
        max-width: 1200px;
    }

    .card {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
    }

        .card:hover {
            transform: translateY(-5px);
        }

    .d-flex {
        display: flex;
    }

    .align-items-center {
        align-items: center;
    }

    .justify-content-between {
        justify-content: space-between;
    }

    .text-center {
        text-align: center;
    }

    .rounded {
        border-radius: 10px;
    }

    .p-4 {
        padding: 1.5rem;
    }

    .mb-0 {
        margin-bottom: 0;
    }

    .mb-4 {
        margin-bottom: 1rem;
    }

    .total-count {
        font-size: 2.5rem;
        font-weight: bold;
        color: #007bff;
    }

    .text-decoration-none {
        text-decoration: none;
        color: #007bff;
    }

        .text-decoration-none:hover {
            text-decoration: underline;
        }

</style>


@if (signInManager.IsSignedIn(User) && User.IsInRole("Admin"))
{
    <div class="container pt-4 px-4">
        <div class="row g-4">
            <div class="col-sm-12 col-xl-6">
                <div class="card bg-light rounded p-4">
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h2 class="mb-0">Total Users</h2>
                        <a href="/Admin/GetAllUsers" class="text-decoration-none">View All</a>
                    </div>
                    <div class="total-count">
                        @ViewBag.totalUsers
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-xl-6">
                <div class="card bg-light rounded p-4">
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h2 class="mb-0">Total Products</h2>
                        <a href="AllProducts" class="text-decoration-none">View All</a>
                    </div>
                    <div class="total-count">
                        @ViewBag.totalProducts
                    </div>
                </div>
            </div>
        </div>
    </div>

}
else
{
    <script>
        function redirectToAction() {
            window.location.href = '@Url.Action("Index", "Home")';
        }
        redirectToAction()
    </script>
}